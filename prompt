I would like to create a game (run on html, nodejs server hosting) which is Diablo-like RPG game
Please try to make most of game settings (e.g. experience value of each levels) configurable and put them into a json file. 


The game world is about dungeon. When the game start, the player is in the village.
There is cave which is the entrance to the dungeon. The player can go down to different levels.
There are 18 levels(or floors). The maps of each floors are different. 
The map should have some random walls and rooms. But ensure the rooms are reachable. There should be stairs for player to go down and up to reach each floor.
The screen will update to show next floor when the player use the stairs. 

There some treasure box randomly placed on the map.
When there is game event, please display these game event in message at the screen bottom.

The enemies are randomly added in each level when the player travel to each floor. The enemy will be respawned only when the player that floor and back to that floor. 
The player needs to kill some zombies or monster. when some enemies are defeated, they may drop some weapons/equipments or money that the player can take them to use. 
The player can switch to the Shopping Catalog to buy/sell equipments in his bag. 
The stronger weapon can kill stronger enemies but more expensive. The enemies on the map will try to catch the player if the player is approaching them and closed to them in certain distance.

The player can open the treasure box and get random stuff (e.g. weapon or money)
The player will be level up if his experience reached certain level.
After level-up, the stats can be upgraded. The player can have 5 points to add into his/her selected stat.

The player can learn the magics (e.g. shooting fire-ball, ice-lanser) to attach the enemy. But these magics skill have to be learnt through level-up.



Please refactor the StatsWidget which is Diablo-like style. You can also modify the all related codes (e.g. players, game).
That widget allows player to increase their stats when they level-up. The widget size is about is long rectangle. on left-hand size, there is a section shows the list of stats (e.g. strength..) , On the right hand side, there is a section shows the bag inventory and a body diagram. On the body diagram, there are slots which allows adding armor, weapon, helmt...so on. The ui should be user friendly for changing the equipements (come from the bag). 
Draw some icon (pixel) to indicate the stats and slots...

Don't fix any codes in the "public/js" folders. They are compiled codes.


Please create/refactor into a class Dungeon. A "world" can have a list of floors (type is Dungeon). Each Dungeon actually consists of objects (playerStat and npcStat). It manages the actions/changes of the players and NPC (enemies, zombies...etc). It is a shading approach in open-world game design. The players can move from one Dungeon to another Dungeon by some action/events (such as using the stairs). 
Also, move the logics of "player.ts" class from "client" folder to "server" folder. Keep the display logics of "player" on client side/folder.
The client-side should get the playerStat changes from server-side through socket-io.


on the client-side, the player can send the actions (move left, right, up, down, attack....etc) to server-side through socket.io (an private channel subject to that player only)
the server-side will process the playerAction, and reflect the changes on the server player object. 

Once there are changes of serverPlayer or serverNPC, the server will emit/broadcast the changes to all client-sides.
All client-side will update its players' data and npc data.... 
